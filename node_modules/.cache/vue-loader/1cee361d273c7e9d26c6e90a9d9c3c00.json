{"remainingRequest":"/Users/cyq/WebstormProjects/course-platform/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cyq/WebstormProjects/course-platform/src/components/Swiper.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cyq/WebstormProjects/course-platform/src/components/Swiper.vue","mtime":1613100078550},{"path":"/Users/cyq/WebstormProjects/course-platform/node_modules/cache-loader/dist/cjs.js","mtime":1612933469583},{"path":"/Users/cyq/WebstormProjects/course-platform/node_modules/babel-loader/lib/index.js","mtime":1612933469586},{"path":"/Users/cyq/WebstormProjects/course-platform/node_modules/cache-loader/dist/cjs.js","mtime":1612933469583},{"path":"/Users/cyq/WebstormProjects/course-platform/node_modules/vue-loader/lib/index.js","mtime":1612933500462}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTd2lwZXJJdGVtIGZyb20gJy4vU3dpcGVySXRlbS52dWUnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1N3aXBlcicsCiAgcHJvcHM6IHsKICAgIHdpZHRoOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMTAwCiAgICB9LAogICAgaGVpZ2h0OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMTAwCiAgICB9LAogICAgaW1nTGlzdDogewogICAgICB0eXBlOiBBcnJheQogICAgfSwKICAgIGRvdHM6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIGluaXRJbmRleDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDAKICAgIH0sCiAgICBsb29wOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBkdXJhdGlvbjogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDAuMwogICAgfSwKICAgIGF1dG86IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIGF1dG9UaW1lOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMzAwMAogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGltZ0luZGV4OiAwLAogICAgICBkdXJhdGlvblRpbWU6IDAuMiwKICAgICAgZG90c0luZGV4OiAwLAogICAgICBhdXRvZXI6IG51bGwsCiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICAnU3dpcGVySXRlbSc6IFN3aXBlckl0ZW0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBhbGxDb3VudCgpIHsKICAgICAgcmV0dXJuICh0aGlzLmltZ0xpc3QubGVuZ3RoICogdGhpcy53aWR0aCkgKyAncHgnOwogICAgfSwKICAgIHNsYXRlWCgpIHsKICAgICAgY29uc29sZS5sb2coJ3RyYW5zbGF0ZTNkKCcgKyAoLXRoaXMuaW1nSW5kZXggKiB0aGlzLndpZHRoKSArICdweCwwLDApJykKICAgICAgcmV0dXJuICd0cmFuc2xhdGUzZCgnICsgKC10aGlzLmltZ0luZGV4ICogdGhpcy53aWR0aCkgKyAncHgsMCwwKScKICAgIH0sCiAgICB0cmFuc2l0aW9uQ29uZmlnKCkgewogICAgICByZXR1cm4gJ2FsbCAnICsgdGhpcy5kdXJhdGlvblRpbWUgKyAncyc7CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgdG9MZWZ0KCl7CiAgICAgIGlmKHRoaXMubG9vcCl7CiAgICAgICAgdGhpcy5pbWdJbmRleC0tOwogICAgICAgIHRoaXMuZG90c0luZGV4LS07CiAgICAgICAgaWYodGhpcy5kb3RzSW5kZXg8PS0xKSB0aGlzLmRvdHNJbmRleD10aGlzLmltZ0xpc3QubGVuZ3RoLTE7CiAgICAgICAgaWYodGhpcy5pbWdJbmRleDw9LTIpIHRoaXMubG9vcEZuKCdsZWZ0Jyk7CiAgICAgIH0KICAgICAgZWxzZSB7CiAgICAgICAgaWYodGhpcy5pbWdJbmRleD09MCkgcmV0dXJuIHRoaXMuZG90c0luZGV4PXRoaXMuaW1nSW5kZXg9dGhpcy5pbWdMaXN0Lmxlbmd0aC0xOwogICAgICAgIHRoaXMuaW1nSW5kZXgtLTsKICAgICAgICB0aGlzLmRvdHNJbmRleC0tOwogICAgICB9CiAgICB9LAogICAgdG9SaWdodCgpewogICAgICBpZih0aGlzLmxvb3ApewogICAgICAgIC8vIGFsZXJ0KHRoaXMubG9vcCkKICAgICAgICB0aGlzLmltZ0luZGV4Kys7CiAgICAgICAgdGhpcy5kb3RzSW5kZXgrKzsKICAgICAgICBpZih0aGlzLmRvdHNJbmRleD09dGhpcy5pbWdMaXN0Lmxlbmd0aCkgdGhpcy5kb3RzSW5kZXg9MDsKICAgICAgICBpZih0aGlzLmltZ0luZGV4PT10aGlzLmltZ0xpc3QubGVuZ3RoKzEpIHRoaXMubG9vcEZuKCdyaWdodCcpOwogICAgICB9CiAgICAgIGVsc2UgewogICAgICAgIHRoaXMuaW1nSW5kZXgrKzsKICAgICAgICB0aGlzLmRvdHNJbmRleCsrOwogICAgICAgIGlmKHRoaXMuaW1nSW5kZXg+dGhpcy5pbWdMaXN0Lmxlbmd0aC0xKSByZXR1cm4gdGhpcy5kb3RzSW5kZXg9dGhpcy5pbWdJbmRleD0wOwogICAgICB9CiAgICB9LAogICAgbG9vcEZuKHR5cGUpIHsKICAgICAgY29uc3QgZHVyID0gdGhpcy5kdXJhdGlvblRpbWU7CiAgICAgIHRoaXMuZHVyYXRpb25UaW1lID0gMDsKICAgICAgdGhpcy5pbWdJbmRleCA9IHR5cGUgPT0gJ3JpZ2h0JyA/IDAgOiB0aGlzLmltZ0xpc3QubGVuZ3RoIC0gMTsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgdGhpcy5kdXJhdGlvblRpbWUgPSBkdXI7CiAgICAgICAgICBpZiAodHlwZSA9PSAncmlnaHQnKSB0aGlzLmltZ0luZGV4Kys7CiAgICAgICAgICBlbHNlIHRoaXMuaW1nSW5kZXgtLTsKICAgICAgICB9KQogICAgICB9LCAzMCkKICAgIH0sCiAgICB0b0RvdHMoaW5kZXgpIHsKICAgICAgdGhpcy5kb3RzSW5kZXggPSB0aGlzLmltZ0luZGV4ID0gaW5kZXg7CiAgICB9LAogICAgYXV0b1BsYXkoKSB7CiAgICAgIGlmICh0aGlzLmF1dG8pIHsKICAgICAgICBjbGVhckludGVydmFsKHRoaXMuYXV0b2VyKTsKICAgICAgICB0aGlzLmF1dG9lciA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgIHRoaXMudG9SaWdodCgpOwogICAgICAgIH0sIHRoaXMuYXV0b1RpbWUpCiAgICAgIH0KICAgIH0sCiAgICBzdG9wQXV0bygpIHsKICAgICAgaWYgKHRoaXMuYXV0bykgcmV0dXJuIGNsZWFySW50ZXJ2YWwodGhpcy5hdXRvZXIpOwogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuaW1nSW5kZXggPSB0aGlzLmRvdHNJbmRleCA9IHRoaXMuaW5pdEluZGV4OwogICAgdGhpcy5kdXJhdGlvblRpbWUgPSB0aGlzLmR1cmF0aW9uOwogICAgaWYgKHRoaXMuYXV0bykgdGhpcy5hdXRvUGxheSgpOwogIH0sCn0K"},{"version":3,"sources":["Swiper.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Swiper.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div id=\"swiper\" @mouseover=\"stopAuto\" @mouseout=\"autoPlay\" :style=\"{'width': width+'px','height': height+'px'}\">\n    <div class=\"swiper-box\" :style=\"{width:allCount,'-webkit-transition':transitionConfig,'-webkit-transform':slateX}\"\n         ref='swiper'>\n      <SwiperItem :img=\"imgList[imgList.length-1].img\" :trans_width=\"-width\" :width=\"width\" :height=\"height\"\n                   v-if=\"loop\"/>\n      <SwiperItem v-for=\"(item,index) in imgList\" :key=\"index\" :img=\"item.img\" :trans_width=\"width*index\"\n                   :width=\"width\" :height=\"height\"/>\n      <SwiperItem :img=\"imgList[0].img\" :trans_width=\"width*imgList.length\" :width=\"width\" :height=\"height\"\n                   v-if=\"loop\"/>\n    </div>\n    <div class=\"swiper-dots\" v-if=\"dots\">\n      <button v-for=\"(item,index) in imgList.length\" :key=\"index\" :class=\"{active:index==dotsIndex}\"\n              @click=\"toDots(index)\"></button>\n    </div>\n  </div>\n\n</template>\n\n<script>\nimport SwiperItem from './SwiperItem.vue'\n\nexport default {\n  name: 'Swiper',\n  props: {\n    width: {\n      type: Number,\n      default: 100\n    },\n    height: {\n      type: Number,\n      default: 100\n    },\n    imgList: {\n      type: Array\n    },\n    dots: {\n      type: Boolean,\n      default: true\n    },\n    initIndex: {\n      type: Number,\n      default: 0\n    },\n    loop: {\n      type: Boolean,\n      default: true\n    },\n    duration: {\n      type: Number,\n      default: 0.3\n    },\n    auto: {\n      type: Boolean,\n      default: true\n    },\n    autoTime: {\n      type: Number,\n      default: 3000\n    }\n  },\n  data() {\n    return {\n      imgIndex: 0,\n      durationTime: 0.2,\n      dotsIndex: 0,\n      autoer: null,\n    }\n  },\n  components: {\n    'SwiperItem': SwiperItem\n  },\n  computed: {\n    allCount() {\n      return (this.imgList.length * this.width) + 'px';\n    },\n    slateX() {\n      console.log('translate3d(' + (-this.imgIndex * this.width) + 'px,0,0)')\n      return 'translate3d(' + (-this.imgIndex * this.width) + 'px,0,0)'\n    },\n    transitionConfig() {\n      return 'all ' + this.durationTime + 's';\n    },\n  },\n  methods: {\n    toLeft(){\n      if(this.loop){\n        this.imgIndex--;\n        this.dotsIndex--;\n        if(this.dotsIndex<=-1) this.dotsIndex=this.imgList.length-1;\n        if(this.imgIndex<=-2) this.loopFn('left');\n      }\n      else {\n        if(this.imgIndex==0) return this.dotsIndex=this.imgIndex=this.imgList.length-1;\n        this.imgIndex--;\n        this.dotsIndex--;\n      }\n    },\n    toRight(){\n      if(this.loop){\n        // alert(this.loop)\n        this.imgIndex++;\n        this.dotsIndex++;\n        if(this.dotsIndex==this.imgList.length) this.dotsIndex=0;\n        if(this.imgIndex==this.imgList.length+1) this.loopFn('right');\n      }\n      else {\n        this.imgIndex++;\n        this.dotsIndex++;\n        if(this.imgIndex>this.imgList.length-1) return this.dotsIndex=this.imgIndex=0;\n      }\n    },\n    loopFn(type) {\n      const dur = this.durationTime;\n      this.durationTime = 0;\n      this.imgIndex = type == 'right' ? 0 : this.imgList.length - 1;\n      setTimeout(() => {\n        this.$nextTick(function () {\n          this.durationTime = dur;\n          if (type == 'right') this.imgIndex++;\n          else this.imgIndex--;\n        })\n      }, 30)\n    },\n    toDots(index) {\n      this.dotsIndex = this.imgIndex = index;\n    },\n    autoPlay() {\n      if (this.auto) {\n        clearInterval(this.autoer);\n        this.autoer = setInterval(() => {\n          this.toRight();\n        }, this.autoTime)\n      }\n    },\n    stopAuto() {\n      if (this.auto) return clearInterval(this.autoer);\n    }\n  },\n  created() {\n    this.imgIndex = this.dotsIndex = this.initIndex;\n    this.durationTime = this.duration;\n    if (this.auto) this.autoPlay();\n  },\n}\n</script>\n\n<style lang=\"css\">\n#swiper {\n  position: relative;\n  overflow: hidden;\n}\n\n.swiper-left {\n  position: absolute;\n  top: 50%;\n  display: inline-block;\n  transform: translateY(-50%);\n  left: 0;\n  background: rgba(0, 0, 0, 0.5);\n  padding: 30px 20px;\n  color: #fff;\n  font-size: 20px;\n  cursor: pointer;\n}\n\n.swiper-right {\n  position: absolute;\n  top: 50%;\n  display: inline-block;\n  transform: translateY(-50%);\n  right: 0;\n  background: rgba(0, 0, 0, 0.5);\n  padding: 30px 20px;\n  color: #fff;\n  font-size: 20px;\n  cursor: pointer;\n}\n\n.swiper-dots {\n  position: absolute;\n  bottom: 20px;\n  text-align: center;\n  left: 50%;\n  transform: translateX(-50%);\n}\n\n.swiper-dots button {\n  width: 35px;\n  height: 8px;\n  background: rgba(200, 200, 200, 1);\n  display: inline-block;\n  margin: 0 5px;\n  color: #fff;\n  font-weight: normal;\n  border: none;\n  outline: none;\n  transition: all .2s;\n  cursor: pointer;\n}\n\n.swiper-dots button:hover, .swiper-dots button.active {\n  background: white;\n  color: #ff0000;\n}\n\n</style>"]}]}