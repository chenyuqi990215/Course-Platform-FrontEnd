{"remainingRequest":"/Users/cyq/WebstormProjects/course-platform/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cyq/WebstormProjects/course-platform/src/components/swiper.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cyq/WebstormProjects/course-platform/src/components/swiper.vue","mtime":1613025135630},{"path":"/Users/cyq/WebstormProjects/course-platform/node_modules/cache-loader/dist/cjs.js","mtime":1612933469583},{"path":"/Users/cyq/WebstormProjects/course-platform/node_modules/babel-loader/lib/index.js","mtime":1612933469586},{"path":"/Users/cyq/WebstormProjects/course-platform/node_modules/cache-loader/dist/cjs.js","mtime":1612933469583},{"path":"/Users/cyq/WebstormProjects/course-platform/node_modules/vue-loader/lib/index.js","mtime":1612933500462}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBzd2lwZXJJdGVtIGZyb20gJy4vc3dpcGVyLWl0ZW0udnVlJwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3N3aXBlcicsCiAgcHJvcHM6ewogICAgaW1nV2lkdGg6ewogICAgICB0eXBlOk51bWJlciwKICAgICAgZGVmYXVsdDoxMDAKICAgIH0sCiAgICBpbWdMaXN0OnsKICAgICAgdHlwZTpBcnJheQogICAgfSwKICAgIGRvdHM6ewogICAgICB0eXBlOkJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6dHJ1ZQogICAgfSwKICAgIGluaXRJbmRleDp7CiAgICAgIHR5cGU6TnVtYmVyLAogICAgICBkZWZhdWx0OjAKICAgIH0sCiAgICBsb29wOnsKICAgICAgdHlwZTpCb29sZWFuLAogICAgICBkZWZhdWx0OnRydWUKICAgIH0sCiAgICBkdXJhdGlvbjp7CiAgICAgIHR5cGU6TnVtYmVyLAogICAgICBkZWZhdWx0OjAuMwogICAgfSwKICAgIGF1dG86ewogICAgICB0eXBlOkJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6ZmFsc2UKICAgIH0sCiAgICBhdXRvVGltZTp7CiAgICAgIHR5cGU6TnVtYmVyLAogICAgICBkZWZhdWx0OjMwMDAKICAgIH0KICB9LAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgaW1nSW5kZXg6MCwKICAgICAgZHVyYXRpb25UaW1lOjAuMiwKICAgICAgZG90c0luZGV4OjAsCiAgICAgIGF1dG9lcjpudWxsLAogICAgfQogIH0sCiAgY29tcG9uZW50czp7CiAgICAnc3dpcGVyLWl0ZW0nOnN3aXBlckl0ZW0KICB9LAogIGNvbXB1dGVkOnsKICAgIGFsbENvdW50KCl7CiAgICAgIHJldHVybiAodGhpcy5pbWdMaXN0Lmxlbmd0aCp0aGlzLmltZ1dpZHRoKSsncHgnOwogICAgfSwKICAgIHNsYXRlWCgpewogICAgICBjb25zb2xlLmxvZygndHJhbnNsYXRlM2QoJysoLXRoaXMuaW1nSW5kZXgqdGhpcy5pbWdXaWR0aCkrJ3B4LDAsMCknKQogICAgICByZXR1cm4gJ3RyYW5zbGF0ZTNkKCcrKC10aGlzLmltZ0luZGV4KnRoaXMuaW1nV2lkdGgpKydweCwwLDApJwogICAgfSwKICAgIHRyYW5zaXRpb25Db25maWcoKXsKICAgICAgcmV0dXJuICdhbGwgJyt0aGlzLmR1cmF0aW9uVGltZSsncyc7CiAgICB9LAogIH0sCiAgbWV0aG9kczp7CiAgICBsb29wRm4odHlwZSl7CiAgICAgIGNvbnN0IGR1cj10aGlzLmR1cmF0aW9uVGltZTsKICAgICAgdGhpcy5kdXJhdGlvblRpbWU9MDsKICAgICAgdGhpcy5pbWdJbmRleD10eXBlPT0ncmlnaHQnPzA6dGhpcy5pbWdMaXN0Lmxlbmd0aC0xOwogICAgICBzZXRUaW1lb3V0KCgpPT57CiAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24oKXsKICAgICAgICAgIHRoaXMuZHVyYXRpb25UaW1lPWR1cjsKICAgICAgICAgIGlmKHR5cGU9PSdyaWdodCcpIHRoaXMuaW1nSW5kZXgrKzsKICAgICAgICAgIGVsc2UgdGhpcy5pbWdJbmRleC0tOwogICAgICAgIH0pCiAgICAgIH0sMzApCiAgICB9LAogICAgdG9Eb3RzKGluZGV4KXsKICAgICAgdGhpcy5kb3RzSW5kZXg9dGhpcy5pbWdJbmRleD1pbmRleDsKICAgIH0sCiAgICBhdXRvUGxheSgpewogICAgICBpZih0aGlzLmF1dG8pewogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5hdXRvZXIpOwogICAgICAgIHRoaXMuYXV0b2VyPXNldEludGVydmFsKCgpPT57CiAgICAgICAgICB0aGlzLnRvUmlnaHQoKTsKICAgICAgICB9LHRoaXMuYXV0b1RpbWUpCiAgICAgIH0KICAgIH0sCiAgICBzdG9wQXV0bygpewogICAgICBpZih0aGlzLmF1dG8pIHJldHVybiBjbGVhckludGVydmFsKHRoaXMuYXV0b2VyKTsKICAgIH0KICB9LAogIGNyZWF0ZWQoKXsKICAgIHRoaXMuaW1nSW5kZXg9dGhpcy5kb3RzSW5kZXg9dGhpcy5pbml0SW5kZXg7CiAgICB0aGlzLmR1cmF0aW9uVGltZT10aGlzLmR1cmF0aW9uOwogICAgaWYodGhpcy5hdXRvKSB0aGlzLmF1dG9QbGF5KCk7CiAgfSwKfQo="},{"version":3,"sources":["swiper.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"swiper.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div id=\"swiper\" @mouseover=\"stopAuto\" @mouseout=\"autoPlay\">\n    <div class=\"swiper-box\" :style=\"{width:allCount,'-webkit-transition':transitionConfig,'-webkit-transform':slateX}\" ref='swiper'>\n      <swiper-item :img=\"imgList[imgList.length-1].img\" :imgWidth=\"-imgWidth\" v-if=\"loop\"/>\n      <swiper-item v-for=\"(item,index) in imgList\" :key=\"index\" :img=\"item.img\" :imgWidth=\"imgWidth*index\"/>\n      <swiper-item :img=\"imgList[0].img\" :imgWidth=\"imgWidth*imgList.length\" v-if=\"loop\"/>\n    </div>\n    <div class=\"swiper-dots\" v-if=\"dots\">\n      <button v-for=\"(item,index) in imgList.length\" :key=\"index\" :class=\"{active:index==dotsIndex}\" @click=\"toDots(index)\">{{item}}</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport swiperItem from './swiper-item.vue'\nexport default {\n  name: 'swiper',\n  props:{\n    imgWidth:{\n      type:Number,\n      default:100\n    },\n    imgList:{\n      type:Array\n    },\n    dots:{\n      type:Boolean,\n      default:true\n    },\n    initIndex:{\n      type:Number,\n      default:0\n    },\n    loop:{\n      type:Boolean,\n      default:true\n    },\n    duration:{\n      type:Number,\n      default:0.3\n    },\n    auto:{\n      type:Boolean,\n      default:false\n    },\n    autoTime:{\n      type:Number,\n      default:3000\n    }\n  },\n  data () {\n    return {\n      imgIndex:0,\n      durationTime:0.2,\n      dotsIndex:0,\n      autoer:null,\n    }\n  },\n  components:{\n    'swiper-item':swiperItem\n  },\n  computed:{\n    allCount(){\n      return (this.imgList.length*this.imgWidth)+'px';\n    },\n    slateX(){\n      console.log('translate3d('+(-this.imgIndex*this.imgWidth)+'px,0,0)')\n      return 'translate3d('+(-this.imgIndex*this.imgWidth)+'px,0,0)'\n    },\n    transitionConfig(){\n      return 'all '+this.durationTime+'s';\n    },\n  },\n  methods:{\n    loopFn(type){\n      const dur=this.durationTime;\n      this.durationTime=0;\n      this.imgIndex=type=='right'?0:this.imgList.length-1;\n      setTimeout(()=>{\n        this.$nextTick(function(){\n          this.durationTime=dur;\n          if(type=='right') this.imgIndex++;\n          else this.imgIndex--;\n        })\n      },30)\n    },\n    toDots(index){\n      this.dotsIndex=this.imgIndex=index;\n    },\n    autoPlay(){\n      if(this.auto){\n        clearInterval(this.autoer);\n        this.autoer=setInterval(()=>{\n          this.toRight();\n        },this.autoTime)\n      }\n    },\n    stopAuto(){\n      if(this.auto) return clearInterval(this.autoer);\n    }\n  },\n  created(){\n    this.imgIndex=this.dotsIndex=this.initIndex;\n    this.durationTime=this.duration;\n    if(this.auto) this.autoPlay();\n  },\n}\n</script>\n\n<style lang=\"css\">\n#swiper{\n  position: relative;\n  overflow: hidden;\n  width: 300px;\n  height: 300px;\n}\n.swiper-box{\n  /*height: 300px;*/\n}\n.swiper-left{\n  position: absolute;\n  top:50%;\n  display: inline-block;\n  transform: translateY(-50%);\n  left:0;\n  background: rgba(0, 0, 0, 0.5);\n  padding: 30px 20px;\n  color:#fff;\n  font-size: 20px;\n  cursor: pointer;\n}\n.swiper-right{\n  position: absolute;\n  top:50%;\n  display: inline-block;\n  transform: translateY(-50%);\n  right:0;\n  background: rgba(0, 0, 0, 0.5);\n  padding: 30px 20px;\n  color:#fff;\n  font-size: 20px;\n  cursor: pointer;\n}\n.swiper-dots{\n  position: absolute;\n  bottom:20px;\n  text-align: center;\n  left:50%;\n  transform: translateX(-50%);\n}\n.swiper-dots button{\n  width: 20px;\n  height: 20px;\n  background: rgba(255, 0, 0, 0.5);\n  display: inline-block;\n  margin: 0 10px;\n  border-radius: 50%;\n  color:#fff;\n  font-weight: normal;\n  border: none;\n  outline: none;\n  transition: all .2s;\n  cursor: pointer;\n}\n.swiper-dots button:hover,.swiper-dots button.active{\n  background: rgba(255, 255, 255, 0.5);\n  color:#ff0000;\n}\n</style>"]}]}